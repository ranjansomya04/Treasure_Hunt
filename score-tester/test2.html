<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Score</title>
    <link rel="stylesheet" href="../CSS/4.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&family=Oswald:wght@500&display=swap"
    />
  </head>

  <body style="background: black">
    <div
      id="result"
      style="
        color: white;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 50px;
        font-family: Karla;
      "
    >
    </div>
    <div class="container">
        <a href="https://esummit.ecellrvce.in/"
        ><button class="btn">
          <span
            style="letter-spacing: 2px; font-size: 24px; font-family: Oswald"
            >CONTINUE</span
          >
        </button></a
      >
    </div>

    <script>
      // Check browser support
      if (typeof Storage !== "undefined") {
        // Store
        // localStorage.setItem("score", "Smith");
        // localStorage.removeItem("lastname");
        // localStorage.clear();
        // Retrieve
        var y = localStorage.getItem("score");
        document.getElementById("result").innerHTML = "YOUR SCORE IS " + y;
        console.log(window.localStorage.getItem("username"));
        console.log(y);
      } else {
        document.getElementById("result").innerHTML =
          "Sorry, your browser does not support Web Storage...";
      }
    </script>
    <!-- <script src="/JS/firebaseConnect.js"></script> -->
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-database.js"></script>
    <script>
      // Import the functions you need from the SDKs you need
      // import { initializeApp } from "firebase/app";
      // import { getAnalytics } from "firebase/analytics";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDaxhrXvfBuCXnC7oaTqjlo6Gw_Vj47De8",
        authDomain: "treasure-hunt-46271.firebaseapp.com",
        databaseURL: "https://treasure-hunt-46271-default-rtdb.firebaseio.com",
        projectId: "treasure-hunt-46271",
        storageBucket: "treasure-hunt-46271.appspot.com",
        messagingSenderId: "425822468671",
        appId: "1:425822468671:web:fa2ebad0eb5261fab1968a",
        measurementId: "G-KSFKQC3XDB",
      };

      // const firebaseConfig = {
      //   apiKey: "AIzaSyCIywexzhvkaiEHE455JDyPeLdllHq1teA",
      //   authDomain: "temp-treasure-hunt.firebaseapp.com",
      //   projectId: "temp-treasure-hunt",
      //   storageBucket: "temp-treasure-hunt.appspot.com",
      //   messagingSenderId: "759215599583",
      //   appId: "1:759215599583:web:ad6c4032d7ee0c7ff65e6a",
      //   measurementId: "G-measurement-id",
      // };

      // Initialize Firebase
      // const app = initializeApp(firebaseConfig);
      // const analytics = getAnalytics(app);
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();

      //   var UAN = window.localStorage.getItem("username")
      var UAN = "22RE000";
      //   var playerScore = window.localStorage.getItem("score")
      var playerScore = 800;

      let firestore = firebase.firestore();
      const data = {
        name: UAN,
        score: playerScore,
      };
      window.localStorage.setItem("DATA", JSON.stringify(data));

      const docRef = firestore.collection("DATA");
      docRef
        .doc(`${data.name}`)
        .set({
          name: data.name,
          score: data.score,
        })
        .then(function (docRef) {
          console.log("Document successfully written!");
        })
        .catch(function (error) {
          console.error("Error adding document: ", error);
        });

      docRef.doc(`${data.name}`).update({
        name: data.name,
        score: data.score,
      });
    </script>
  </body>
</html>
